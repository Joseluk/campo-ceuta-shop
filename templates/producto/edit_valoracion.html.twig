{% extends 'base.html.twig' %}

{% block title %}Editar Valoración{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="text-center py-3">Editar Valoración</h1>

        <form method="post">
            <div class="mb-3">
                <label for="comentario" class="form-label">Comentario</label>
                <textarea class="form-control" id="comentario" name="comentario" rows="3">{{ valoracion.opinion }}</textarea>
            </div>

            <div class="mb-3">
                <label for="valoracion" class="form-label">Valoración</label>
                <input id="valoracion-form" name="valoracion" class="rating rating-loading" data-min="0" data-max="5" data-step="0.5" data-size="md" data-show-clear="false" value="{{ valoracion.puntuacion }}">

            </div>

            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            <a href="{{ path('app_producto_show', {'id': producto.id}) }}" class="btn btn-secondary">Volver</a>
        </form>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/js/star-rating.min.js" type="text/javascript"></script>

    <script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.js"></script>

    <script>
        (function (factory) {

            if (typeof define === 'function' && define.amd) {
                define(['jquery'], factory);
            } else if (typeof module === 'object' && typeof module.exports === 'object') {
                factory(require('jquery'));
            } else {
                factory(window.jQuery);
            }
        }(function ($) {
            $.fn.ratingLocales.en = {
                defaultCaption: '{rating} Estrellas',
                starCaptions: {
                    0.5: 'Media Estrella',
                    1: 'Una Estrella',
                    1.5: 'Una Estrella y media',
                    2: 'Dos Estrellas',
                    2.5: 'Dos Estrellas y media',
                    3: 'Tres Estrellas',
                    3.5: 'Tres Estrellas y media',
                    4: 'Cuatro Estrellas',
                    4.5: 'Cuatro Estrellas y media',
                    5: 'Cinco Estrellas'
                },
                starTitles: {
                    1: "Una estrella",
                    2: "Dos estrellas",
                    3: "Tres estrellas",
                    4: "Cuatro estrellas",
                    5: "Cinco estrellas"
                },
                clearButtonTitle: 'Limpiar',
                clearCaption: 'Sin Calificar'
            };
        }));
    </script>
    <script>
        $("#valoracion-form").rating();
    </script>
{% endblock %}
{% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/css/star-rating.min.css" media="all" rel="stylesheet" type="text/css" />

    <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.css" media="all" rel="stylesheet" type="text/css" />
{% endblock %}
